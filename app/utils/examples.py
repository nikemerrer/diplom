# -*- coding: utf-8 -*-
"""
Два полноценных примера для langextract: охрана и NDA.
"""
from __future__ import annotations

import langextract as lx

ExampleData = lx.data.ExampleData
Extraction = lx.data.Extraction

# Пример 1. Договор охранных услуг (полный текст)
EX1_TEXT = """ДОГОВОР № 145-01
об оказании охранных услуг

г. Москва                                     «05» мая 2025 г.

ООО «Первый Плюс», именуемое в дальнейшем «Заказчик», в лице генерального директора Иванова Ивана Ивановича,
действующего на основании Устава, с одной стороны, и Общество с ограниченной ответственностью Частное охранное
предприятие «Мурзилка», именуемое в дальнейшем «Исполнитель», в лице Генерального директора Сидорова Петра
Петровича, действующего на основании Устава, с другой стороны, заключили настоящий Договор о нижеследующем.

1. ПРЕДМЕТ ДОГОВОРА
1.1. Заказчик поручает, а Исполнитель принимает на себя обязательства по охране имущества Заказчика
на Объекте – «Дом труда», расположенном по адресу: улица Труда, д.1 (далее — «Объект»).
1.2. Посты охраны выставляются с 10:00 до 21:00 ежедневно.

5. ОПЛАТА УСЛУГ
5.1. Вознаграждение Исполнителя составляет 560 000 (Пятьсот шестьдесят тысяч) рублей 00 копеек ежемесячно.
Оплата в рублях РФ. Стороны согласовали, что вознаграждение указано без выделения НДС (без НДС).

Приложения: Лицензия № 223344 зарегистрирована 01.01.2025 и действительна до 31.12.2025.
"""

EX1_ATTRS = {
    "вид_документа": "договор",
    "заголовок": "Договор об оказании охранных услуг",
    "содержание": "Договор об охране имущества на объекте «Дом труда», Москва, 05.05.2025.",
    "стороны": [
        {"сторона": "Заказчик", "наименование": "ООО «Первый Плюс»", "подписан": "Иванов Иван Иванович", "дата": "", "комментарий": ""},
        {"сторона": "Исполнитель", "наименование": "ООО «ЧОП Мурзилка»", "подписан": "Сидоров Петр Петрович", "дата": "", "комментарий": "Лицензия № 223344, зарегистрирована 01.01.2025, действительна до 31.12.2025"},
    ],
    "комментарий": "",
    "рег_номер": "145-01",
    "дата": "2025-05-05",
    "временный_номер": None,
    "реквизиты": {
        "срок": {"с": None, "по": None},
        "сумма": "560000",
        "валюта": "RUB",
        "ндс": "0%",
    },
    "срок_действия": None,
    "делает_недействующими": False,
    "гриф": "Общий",
    "проект": None,
    "состояние": "Проект",
    "подразделение": None,
    "подготовил": None,
    "ответственный": None,
    "хранение": {"состав": None, "форма": "Бумажная", "в_дело": None},
    "город": "Москва",
    "объект_наименование": "Дом труда",
    "объект_адрес": "улица Труда, д.1",
    "часы_охраны": "10:00-21:00 ежедневно",
    "периодичность_суммы": "ежемесячно",
}

# Пример 2. NDA
EX2_TEXT = """СОГЛАШЕНИЕ О КОНФИДЕНЦИАЛЬНОСТИ (NDA)

г. Казань                                   «14» февраля 2025 г.

Общество с ограниченной ответственностью «ИТ-Решения», именуемое в дальнейшем «Компания», в лице директора
Гаврилова Ильи Сергеевича, действующего на основании Устава, и Сотрудник Иванов Сергей Петрович заключили
настоящее соглашение о неразглашении конфиденциальной информации.
Условия: Сотрудник обязуется не раскрывать и не использовать конфиденциальную информацию в течение срока действия соглашения.
"""

EX2_ATTRS = {
    "вид_документа": "соглашение",
    "заголовок": "Соглашение о конфиденциальности",
    "содержание": "СОГЛАШЕНИЕ О КОНФИДЕНЦИАЛЬНОСТИ. г. Казань, 14.02.2025.",
    "стороны": [
        {"сторона": "Компания", "наименование": "ООО «ИТ-Решения»", "подписан": "Гаврилов Илья Сергеевич", "дата": "", "комментарий": ""},
        {"сторона": "Сотрудник", "наименование": "Иванов Сергей Петрович", "подписан": "Иванов Сергей Петрович", "дата": "", "комментарий": ""},
    ],
    "комментарий": "",
    "рег_номер": "",
    "дата": "2025-02-14",
    "временный_номер": None,
    "реквизиты": {
        "срок": {"с": None, "по": None},
        "сумма": 0,
        "валюта": None,
        "ндс": None,
    },
    "срок_действия": None,
    "делает_недействующими": False,
    "гриф": "Общий",
    "проект": None,
    "состояние": "Проект",
    "подразделение": None,
    "подготовил": None,
    "ответственный": None,
    "хранение": {"состав": None, "форма": None, "в_дело": None},
    "город": "Казань",
    "объект_наименование": None,
    "объект_адрес": None,
    "часы_охраны": None,
    "периодичность_суммы": None,
}

EXAMPLES = [
    ExampleData(
        text=EX1_TEXT,
        extractions=[Extraction(extraction_class="onec_fields", extraction_text="Договор об оказании охранных услуг", attributes=EX1_ATTRS)],
    ),
    ExampleData(
        text=EX2_TEXT,
        extractions=[Extraction(extraction_class="onec_fields", extraction_text="Соглашение о конфиденциальности", attributes=EX2_ATTRS)],
    ),
]
