# -*- coding: utf-8 -*-
"""
Few-shot примеры для langextract под схему 1С.
Можно добавлять/редактировать. Чем ближе к твоим реальным документам — тем лучше.
"""
from __future__ import annotations
import langextract as lx

# === ПРИМЕР 1. Договор охраны (покрывает объект, адрес, часы, ежемесячно) ===
EX1_TEXT = """ДОГОВОР № 145-01
об оказании охранных услуг

г. Москва                                     «05» мая 2025 г.

ООО «Первый Плюс», именуемое в дальнейшем «Заказчик», в лице генерального директора Иванова Ивана Ивановича,
действующего на основании Устава, с одной стороны, и Общество с ограниченной ответственностью Частное охранное
предприятие «Мурзилка», именуемое в дальнейшем «Исполнитель», в лице Генерального директора Сидорова Петра
Петровича, действующего на основании Устава, с другой стороны, заключили настоящий Договор о нижеследующем.

1. ПРЕДМЕТ ДОГОВОРА
1.1. Заказчик поручает, а Исполнитель принимает на себя обязательства по охране имущества Заказчика
на Объекте – «Дом труда», расположенном по адресу: улица Труда, д.1 (далее — «Объект»).
1.2. Посты охраны выставляются с 10:00 до 21:00 ежедневно.
...

5. ОПЛАТА УСЛУГ
5.1. Вознаграждение Исполнителя составляет 560 000 (Пятьсот шестьдесят тысяч) рублей 00 копеек ежемесячно.
Оплата в рублях РФ. Стороны согласовали, что вознаграждение указано без выделения НДС (без НДС).
...
"""

EX1_ATTRS = {
  "вид_документа": "договор",
  "заголовок": "Договор об оказании охранных услуг",
  "содержание": "ДОГОВОР № 145-01 — об оказании охранных услуг. г. Москва, «05» мая 2025 г.",
  "стороны": [
    {"сторона":"Заказчик","наименование":"ООО «Первый Плюс»","подписан":"Иванов Иван Иванович","дата":"","комментарий":""},
    {"сторона":"Исполнитель","наименование":"Общество с ограниченной ответственностью Частное охранное предприятие «Мурзилка»","подписан":"Сидоров Петр Петрович","дата":"","комментарий":""}
  ],
  "комментарий": "",
  "рег_номер": "145-01",
  "дата": "2025-05-05",
  "временный_номер": None,
  "реквизиты": {
    "срок": {"с": None, "по": None},
    "сумма": 560000,
    "валюта": "RUB",
    "ндс": "0%"
  },
  "срок_действия": None,
  "делает_недействующими": False,
  "гриф": "Общий",
  "проект": None,
  "состояние": "Проект",
  "подразделение": None,
  "подготовил": None,
  "ответственный": None,
  "хранение": {"состав": None, "форма": "Бумажная", "в_дело": None},
  "город": "Москва",
  "объект_наименование": "Дом труда",
  "объект_адрес": "улица Труда, д.1",
  "часы_охраны": "10:00-21:00",
  "периодичность_суммы": "ежемесячно"
}

# === ПРИМЕР 2. Договор поставки (покрывает НДС 20%, срок с/по, хранение, проект/подразделение/ответственный) ===
EX2_TEXT = """ДОГОВОР ПОСТАВКИ № SUP-2024/77

г. Санкт-Петербург                         «01» ноября 2024 г.

Общество с ограниченной ответственностью «Север», именуемое в дальнейшем «Поставщик», в лице директора
Смирнова Андрея Алексеевича, действующего на основании Устава, с одной стороны, и Общество с ограниченной
ответственностью «Лира», именуемое в дальнейшем «Покупатель», в лице генерального директора Петровой
Анны Александровны, действующей на основании Устава, с другой стороны, заключили настоящий договор.

1. ПРЕДМЕТ ДОГОВОРА
Поставщик обязуется поставить, а Покупатель оплатить и принять продукцию согласно Спецификации №1.

2. СРОК ДЕЙСТВИЯ
Срок действия договора: с «01» ноября 2024 г. по «31» декабря 2024 г.

5. ЦЕНА И ПОРЯДОК РАСЧЕТОВ
Общая стоимость поставки составляет 1 250 000 (Один миллион двести пятьдесят тысяч) рублей, в т.ч. НДС 20%.
Оплата — безналичным расчетом, единовременно.
Хранение: Листов 12, экз. 2.
Проект: Поставка-2024. Подразделение: Отдел закупок. Ответственный: Смирнова А.А.
"""

EX2_ATTRS = {
  "вид_документа": "договор поставки",
  "заголовок": "Договор поставки",
  "содержание": "ДОГОВОР ПОСТАВКИ № SUP-2024/77. г. Санкт-Петербург, «01» ноября 2024 г.",
  "стороны": [
    {"сторона":"Поставщик","наименование":"ООО «Север»","подписан":"Смирнов Андрей Алексеевич","дата":"","комментарий":""},
    {"сторона":"Покупатель","наименование":"ООО «Лира»","подписан":"Петрова Анна Александровна","дата":"","комментарий":""}
  ],
  "комментарий": "",
  "рег_номер": "SUP-2024/77",
  "дата": "2024-11-01",
  "временный_номер": None,
  "реквизиты": {
    "срок": {"с": "2024-11-01", "по": "2024-12-31"},
    "сумма": 1250000,
    "валюта": "RUB",
    "ндс": "20%"
  },
  "срок_действия": "2024-12-31",
  "делает_недействующими": False,
  "гриф": "Общий",
  "проект": "Поставка-2024",
  "состояние": "Проект",
  "подразделение": "Отдел закупок",
  "подготовил": None,
  "ответственный": "Смирнова А.А.",
  "хранение": {"состав": "Листов 12, экз. 2", "форма": "Бумажная", "в_дело": None},
  "город": "Санкт-Петербург",
  "объект_наименование": None,
  "объект_адрес": None,
  "часы_охраны": None,
  "периодичность_суммы": "единовременно"
}

# === ПРИМЕР 3. NDA (без суммы/НДС, только стороны/дата/город) ===
EX3_TEXT = """СОГЛАШЕНИЕ О КОНФИДЕНЦИАЛЬНОСТИ (NDA)

г. Казань                                   «14» февраля 2025 г.

Общество с ограниченной ответственностью «ИТ-Решения», именуемое в дальнейшем «Компания», в лице директора
Гаврилова Ильи Сергеевича, действующего на основании Устава, и Сотрудник Иванов Сергей Петрович заключили
настоящее соглашение о неразглашении конфиденциальной информации.
... (прочие условия, ответственность, срок действия) ...
Стороны подтверждают, что все права и обязанности определены настоящим соглашением.
"""

EX3_ATTRS = {
  "вид_документа": "соглашение",
  "заголовок": "Соглашение о конфиденциальности",
  "содержание": "СОГЛАШЕНИЕ О КОНФИДЕНЦИАЛЬНОСТИ. г. Казань, «14» февраля 2025 г.",
  "стороны": [
    {"сторона":"Компания","наименование":"ООО «ИТ-Решения»","подписан":"Гаврилов Илья Сергеевич","дата":"","комментарий":""},
    {"сторона":"Сотрудник","наименование":"Иванов Сергей Петрович","подписан":"Иванов Сергей Петрович","дата":"","комментарий":""}
  ],
  "комментарий": "",
  "рег_номер": "",
  "дата": "2025-02-14",
  "временный_номер": None,
  "реквизиты": {
    "срок": {"с": None, "по": None},
    "сумма": 0,
    "валюта": "RUB",
    "ндс": None
  },
  "срок_действия": None,
  "делает_недействующими": False,
  "гриф": "Общий",
  "проект": None,
  "состояние": "Проект",
  "подразделение": None,
  "подготовил": None,
  "ответственный": None,
  "хранение": {"состав": None, "форма": "Бумажная", "в_дело": None},
  "город": "Казань",
  "объект_наименование": None,
  "объект_адрес": None,
  "часы_охраны": None,
  "периодичность_суммы": None
}

# === ПРИМЕР 4. Договор оказания услуг (IT), валюта USD, ежемесячно, НДС 0% ===
EX4_TEXT = """ДОГОВОР № IT-23/090

г. Новосибирск                            «30» сентября 2023 г.

ООО «КодЛаб», именуемое в дальнейшем «Исполнитель», в лице директора Кузнецова Дениса Олеговича,
действующего на основании Устава, и ООО «ТехПаркер», именуемое в дальнейшем «Заказчик», в лице генерального
директора Романовой Елены Петровны, действующей на основании Устава, заключили настоящий договор.

1. ПРЕДМЕТ
Исполнитель оказывает услуги по сопровождению и развитию информационных систем Заказчика.

5. СТОИМОСТЬ И ПОРЯДОК РАСЧЕТОВ
Стоимость услуг составляет 15 000 (пятнадцать тысяч) USD ежемесячно. Оплата без НДС (без НДС).

Срок действия договора: с «01» октября 2023 г. по «31» марта 2024 г.
"""

EX4_ATTRS = {
  "вид_документа": "договор",
  "заголовок": "Договор оказания услуг (IT)",
  "содержание": "ДОГОВОР № IT-23/090. г. Новосибирск, «30» сентября 2023 г.",
  "стороны": [
    {"сторона":"Исполнитель","наименование":"ООО «КодЛаб»","подписан":"Кузнецов Денис Олегович","дата":"","комментарий":""},
    {"сторона":"Заказчик","наименование":"ООО «ТехПаркер»","подписан":"Романова Елена Петровна","дата":"","комментарий":""}
  ],
  "комментарий": "",
  "рег_номер": "IT-23/090",
  "дата": "2023-09-30",
  "временный_номер": None,
  "реквизиты": {
    "срок": {"с": "2023-10-01", "по": "2024-03-31"},
    "сумма": 15000,
    "валюта": "USD",
    "ндс": "0%"
  },
  "срок_действия": "2024-03-31",
  "делает_недействующими": False,
  "гриф": "Общий",
  "проект": None,
  "состояние": "Проект",
  "подразделение": None,
  "подготовил": None,
  "ответственный": None,
  "хранение": {"состав": None, "форма": "Бумажная", "в_дело": None},
  "город": "Новосибирск",
  "объект_наименование": None,
  "объект_адрес": None,
  "часы_охраны": None,
  "периодичность_суммы": "ежемесячно"
}

EXAMPLES = [
    lx.data.ExampleData(
        text=EX1_TEXT,
        extractions=[lx.data.Extraction(extraction_class="onec_fields", extraction_text="Договор об оказании охранных услуг", attributes=EX1_ATTRS)]
    ),
    lx.data.ExampleData(
        text=EX2_TEXT,
        extractions=[lx.data.Extraction(extraction_class="onec_fields", extraction_text="Договор поставки", attributes=EX2_ATTRS)]
    ),
    lx.data.ExampleData(
        text=EX3_TEXT,
        extractions=[lx.data.Extraction(extraction_class="onec_fields", extraction_text="Соглашение о конфиденциальности", attributes=EX3_ATTRS)]
    ),
    lx.data.ExampleData(
        text=EX4_TEXT,
        extractions=[lx.data.Extraction(extraction_class="onec_fields", extraction_text="Договор оказания услуг (IT)", attributes=EX4_ATTRS)]
    ),
]
